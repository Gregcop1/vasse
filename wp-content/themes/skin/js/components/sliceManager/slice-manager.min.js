/*! uglified 2015-01-21 13:24:36 */
!function(a,b,c){function d(c,f){if(!b[c]){if(!a[c]){var g="function"==typeof require&&require;if(!f&&g)return g(c,!0);if(e)return e(c,!0);throw new Error("Cannot find module '"+c+"'")}var h=b[c]={exports:{}};a[c][0](function(b){var e=a[c][1][b];return d(e?e:b)},h,h.exports)}return b[c].exports}for(var e="function"==typeof require&&require,f=0;f<c.length;f++)d(c[f]);return d}({1:[function(a){(function(){var b,c,d=function(a,b){return function(){return a.apply(b,arguments)}};b=a("./Slice.coffee"),c=function(){function a(){return this.keyPressed=d(this.keyPressed,this),this.clickOnMenuItem=d(this.clickOnMenuItem,this),this.gotoPreviousSlice=d(this.gotoPreviousSlice,this),this.gotoNextSlice=d(this.gotoNextSlice,this),this.build().gotoSlice(0).binds(),this}return a.prototype.menuSelector="#mainMenu li",a.prototype.slicesSelector="#slices",a.prototype.slicesArrowSelector="#slices-arrows",a.prototype.slices=[],a.prototype.build=function(){var a,c;return c=this,a=$(this.slicesSelector),$(this.menuSelector+" a").each(function(){return $(this).parent().hasClass("menu-item-25")?c.slices.splice(0,0,new b($(this),a,!1)):c.slices.push(new b($(this),a,!0)),$(this).on("click",c.clickOnMenuItem)}),this},a.prototype.gotoSlice=function(a){return a>=0&&this.slices[a]&&(this.slices.map(function(b,c){return a>c?b.gotoPrev():c===a?b.gotoCurrent():b.gotoNext()}),this.refreshMenu(a)),this},a.prototype.gotoNextSlice=function(){var a;return a=$(this.slicesSelector+" .current").index(),this.gotoSlice(a+1),this},a.prototype.gotoPreviousSlice=function(){var a;return a=$(this.slicesSelector+" .current").index(),this.gotoSlice(a-1),this},a.prototype.refreshMenu=function(a){var b;return $(this.menuSelector).removeClass("active"),null!=(b=this.slices[a])&&b.$menuItem.closest("li").addClass("active"),this},a.prototype.clickOnMenuItem=function(a){var b;return a.preventDefault(),b=$(null!=a?a.target:void 0).closest("li"),this.gotoSlice($(this.slicesSelector+" ."+b.attr("id")).index()),!1},a.prototype.keyPressed=function(a){switch(null!=a?a.which:void 0){case 37:case 38:this.gotoPreviousSlice();break;case 39:case 40:this.gotoNextSlice()}return console.log(a.which),this},a.prototype.binds=function(){var a,b;return a=this.gotoNextSlice,b=this.gotoPreviousSlice,$(this.slicesArrowSelector+" .right").on("click",a),$(this.slicesArrowSelector+" .left").on("click",b),$("body").hammer().on("swipeleft panleft pandown",_.debounce(a,300)),$("body").hammer().on("panright panup",_.debounce(b,300)),$("body").on("keydown",_.debounce(this.keyPressed,300)),this},a}(),$(document).on("ready",function(){var a;return a=new c})}).call(this)},{"./Slice.coffee":2}],2:[function(a,b){(function(){var a;b.exports=a=function(){function a(a,b,c){return this.$menuItem=a,this.$sliceContainer=b,this.append=c,this.build(),this}return a.prototype.contentConainer="#main",a.prototype.build=function(){var a=this;return this.append?(this.$slice=$("<div/>").addClass("slice").appendTo(this.$sliceContainer),$.get(this.$menuItem.attr("href")).done(function(b){var c;return c=$(b).find(a.contentConainer),a.buildSlice(c)})):(this.$slice=$("#content-page-0").prependTo(this.$sliceContainer),this.buildSlice(this.$slice.find(this.contentConainer))),this},a.prototype.buildSlice=function(a){return this.$slice.addClass(a.attr("class")).addClass(this.$menuItem.closest("li").attr("id")).removeClass("page").removeClass("main"),a.attr("id","").attr("role","").attr("class",function(a,b){return b.replace(/(^|\s)content-page-\S+/g,"")}),this.$slice.append(a),a.css("height",a.height()).addClass("verticalAlignMiddle"),this},a.prototype.gotoPrev=function(){return this.$slice.addClass("prev").removeClass("current").removeClass("next"),this},a.prototype.gotoCurrent=function(){return this.$slice.addClass("current").removeClass("prev").removeClass("next"),this},a.prototype.gotoNext=function(){return this.$slice.addClass("next").removeClass("current").removeClass("prev"),this},a}()}).call(this)},{}]},{},[1]);
//# sourceMappingURL=slice-manager.min.js.map